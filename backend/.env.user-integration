# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# FinKuRN Backend - User Integration Environment
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# v1-chatbot-complete 기반 + 사용자 관리 시스템 통합

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# AI & Bedrock 설정 (기존 시스템 유지)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# AWS Bedrock 사용 (기존 설정 유지)
USE_AWS_BEDROCK=true

# AWS 자격증명 (팀원의 AWS 계정)
AWS_ACCESS_KEY_ID=your-team-aws-access-key
AWS_SECRET_ACCESS_KEY=your-team-aws-secret-key
AWS_REGION=us-east-1

# Claude Model (Bedrock)
CLAUDE_MODEL=anthropic.claude-3-5-sonnet-20240620-v1:0
CLAUDE_MAX_TOKENS=4000
CLAUDE_TEMPERATURE=0.7

# Titan Embeddings (Bedrock)
EMBEDDING_MODEL=amazon.titan-embed-text-v2:0
EMBEDDING_DIMENSIONS=1024

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 기존 Vector DB 설정 (유지)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Milvus Vector DB (정책 벡터 검색)
MILVUS_HOST=localhost
MILVUS_PORT=19530

# Neo4j Graph DB (Phase 2)
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password123
ENABLE_NEO4J=false

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 새로 추가: PostgreSQL 사용자 데이터베이스
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# PostgreSQL 연결 정보
DATABASE_URL=postgresql://username:password@localhost:5432/finkurn_users

# 개발용 대체 (SQLite)
# DATABASE_URL=sqlite:///./finkurn_users.db

# Database Pool 설정
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 새로 추가: JWT 인증 설정
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# JWT 비밀키 (프로덕션에서는 복잡한 키 사용)
SECRET_KEY=your-super-secret-jwt-key-change-in-production
ALGORITHM=HS256

# 토큰 만료 시간 (분)
ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24시간
REFRESH_TOKEN_EXPIRE_DAYS=7       # 7일

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 새로 추가: Google OAuth 설정
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Google OAuth 자격증명 (환경변수로만 관리)
GOOGLE_CLIENT_ID=your-google-client-id.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# OAuth 리디렉션 URL
GOOGLE_REDIRECT_URI=http://localhost:8000/api/auth/google/callback

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 새로 추가: 비밀번호 해싱 설정
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# bcrypt 설정
BCRYPT_ROUNDS=12

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 기본 애플리케이션 설정
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Environment
ENV=development

# API Server
API_HOST=0.0.0.0
API_PORT=8000

# CORS (React Native 앱 포함)
CORS_ORIGINS=http://localhost:8081,http://localhost:19006,exp://localhost:8081

# Logging
LOG_LEVEL=INFO
ENABLE_DETAILED_LOGGING=true

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 새로 추가: 온보딩 설정
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# 온보딩 프로세스 설정
ONBOARDING_STEPS=goals,profile,consent
ONBOARDING_REQUIRED_FIELDS=age,region

# 프로필 완성도 계산 가중치
PROFILE_WEIGHTS_AGE=20
PROFILE_WEIGHTS_REGION=20
PROFILE_WEIGHTS_JOB=15
PROFILE_WEIGHTS_INCOME=15
PROFILE_WEIGHTS_GOALS=30

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Feature Flags
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# 사용자 관리 기능
ENABLE_USER_MANAGEMENT=true
ENABLE_SOCIAL_LOGIN=true
ENABLE_EMAIL_LOGIN=true

# AI 개인화 기능
ENABLE_PERSONALIZED_AI=true
ENABLE_CHAT_HISTORY=true

# 기존 Bedrock 시스템 유지
ENABLE_BEDROCK_WORKFLOW=true
ENABLE_POLICY_SEARCH=true
ENABLE_MILVUS_VECTOR_SEARCH=true

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 개발 및 디버깅
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# 개발 모드 설정
DEBUG_MODE=true
ENABLE_API_DOCS=true

# 테스트 사용자 생성 (개발용)
CREATE_TEST_USERS=true
TEST_USER_EMAIL=test@finkurn.com
TEST_USER_PASSWORD=test123456

# SQLAlchemy 디버깅
SQLALCHEMY_ECHO=false  # SQL 쿼리 로깅 (성능상 false 권장)